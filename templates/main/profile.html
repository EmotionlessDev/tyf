{% extends "main/blank.html" %}
{% load static %}
{% block title %}Profile{% endblock %}
{% block content %}

{% block extrahead %}
<link rel="stylesheet" href="{% static 'css/profile.css' %}">.
{% endblock %}

<div class="min-vh-100 px-5">
    <div class="row">
        <div class="col-md-3">
            <img src="{{ profile.get_avatar }}"
                alt="avatar" class="img-fluid rounded-circle">
            <p class="mt-3 fs-3 text-center">{{ profile.username }}</p>
            {% if request.user.profile != profile %}
            <div class="action-buttons">
                {% if following %}
                <a href="{% url 'unfollow' username=profile.username %}?next={{ request.path }}" class="btn border-start-0 border-top-0 btn-outline-primary w-100 fs-6 mt-2 action">Unfollow</a>
                {% else %}
                <a href="{% url 'follow' username=profile.username %}?next={{ request.path }}" class="btn border-start-0 border-top-0 btn-outline-primary w-100 fs-6 mt-2 action">Follow</a>
                {% endif %}
                <a href="#" class="btn border-start-0 border-top-0 btn-outline-primary w-100 fs-6 mt-2 action">Report</a>
            </div>
            {% endif %}
            <hr class="mt-3">
            <div class="section mt-2 ">
                <p><span class="badge bg-secondary">{{ profile.following.count }}</span> Following</p>
                <p><span class="badge bg-secondary">{{ profile.followers.count }}</span> Followers</p>
                <p><span class="badge bg-secondary">{{ profile.posts.count }}</span> Posts</p>
            </div>
            <hr>
            <div class="section">
                <ul class="list-unstyled list-social">
                    {% if profile.telegram %}
                    <li><a href="{{ profile.telegram }}"><i class="bi bi-telegram"></i> {{ profile.telegram }}</a></li>
                    {% endif %}
                    <!-- {% if profile.vkontakte %}
                    <li><a href="{{ profile.vkontakte }}" class="text-break">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1.1em" height="1.1em" viewBox="0 0 24 24"><path fill="currentColor" d="M15.073 2H8.938C3.332 2 2 3.333 2 8.927v6.136C2 20.667 3.323 22 8.927 22h6.136C20.667 22 22 20.677 22 15.073V8.938C22 3.332 20.677 2 15.073 2m3.073 14.27h-1.459c-.552 0-.718-.447-1.708-1.437c-.864-.833-1.229-.937-1.448-.937c-.302 0-.385.083-.385.5v1.312c0 .355-.115.563-1.042.563a5.7 5.7 0 0 1-4.448-2.667a11.6 11.6 0 0 1-2.302-4.833c0-.219.083-.417.5-.417h1.459c.375 0 .51.167.656.552c.708 2.084 1.916 3.896 2.406 3.896c.188 0 .27-.083.27-.552v-2.146c-.062-.979-.582-1.062-.582-1.416a.36.36 0 0 1 .374-.334h2.292c.313 0 .417.156.417.531v2.896c0 .313.135.417.229.417c.188 0 .333-.104.677-.448a12 12 0 0 0 1.792-2.98a.63.63 0 0 1 .635-.416h1.459c.437 0 .53.219.437.531a18.2 18.2 0 0 1-1.958 3.365c-.157.24-.22.365 0 .646c.145.219.656.646 1 1.052a6.5 6.5 0 0 1 1.229 1.708c.125.406-.084.615-.5.615"/></svg>
                        {{ profile.vkontakte }}</a></li>
                    {% endif %} -->
                </ul>
            </div>

        </div>
        <!-- <div class="col-md-9">
            <div class="user-info">
                <p>
                    <strong>Имя:</strong> {{ profile.first_name }}
                </p>
                <p>
                    <strong>Фамилия:</strong> {{ profile.last_name }}
                </p>
                <p>
                    <strong>Отчество:</strong> {{ profile.middle_name }}
                </p>
                <p>
                    <strong>Имя пользователя:</strong> {{ profile.username }} 
                </p>
                <p>
                    <strong>Email:</strong> {{ profile.email }}
                </p>
                <p>
                    <strong>Дата рождения:</strong> {{ profile.date_of_birth }}
                </p>
                <p>
                    <strong>Направление:</strong>{{profile.major}} 
                </p>
                <p>
                    <strong>Дата регистрации:</strong> {{ profile.date_joined }}
                </p>
                <p>
                    <strong>О себе:</strong>
                    {{profile.bio}}
                </p>
            </div>
        </div> -->
    </div>
    <hr>
    <div class="d-flex">
        <h3 style="color: var(--light);">Published:</h3>
    </div>
    {% include 'main/posts_list.html' %}
</div>
{% endblock %}
